(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{26:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(15),s=n.n(c),o=(n(26),n(7)),i=n(3),u=n.n(i),l=n(6),j=n(10),d=n(13),b=n(11),h=n(1),f=function(e){var t=e.setAuthentication,n=Object(r.useState)({email:"",password:""}),a=Object(j.a)(n,2),c=a[0],s=a[1],i=function(e){var t=Object(o.a)({},c);t[e.target.id]=e.target.value,s(t)},f=function(){var e=Object(l.a)(u.a.mark((function e(n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,password:c.password})});case 3:return r=e.sent,e.next=6,r.json();case 6:(a=e.sent).token?(localStorage.setItem("token",a.token),t(!0),b.a.success("Logged in")):(t(!1),console.log("Not Authorized"),b.a.error(a));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"login__contatiner",children:[Object(h.jsxs)("form",{onSubmit:function(e){return f(e)},children:[Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)("input",{className:"form-control my-3",type:"text",placeholder:"email",onChange:function(e){return i(e)},id:"email",value:c.email}),Object(h.jsx)("label",{children:"Password"}),Object(h.jsx)("input",{className:"form-control my-3",type:"password",placeholder:"password",onChange:function(e){return i(e)},id:"password",value:c.password}),Object(h.jsx)("button",{className:"btn btn-dark ",children:"Login"})]}),Object(h.jsx)("div",{children:Object(h.jsx)(d.b,{to:"/register",children:Object(h.jsx)("h3",{children:"Register"})})})]})},O=(n(34),function(e){var t=e.setAuthentication,n=Object(r.useState)({username:"",email:"",password:""}),a=Object(j.a)(n,2),c=a[0],s=a[1],i=function(e){var t=Object(o.a)({},c);t[e.target.id]=e.target.value,s(t)},f=function(){var e=Object(l.a)(u.a.mark((function e(n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c.username,email:c.email,password:c.password})});case 3:return r=e.sent,e.next=6,r.json();case 6:(a=e.sent)?(localStorage.setItem("token",a.token),t(!0),b.a.success("Registered successfully")):b.a.error(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{className:"my-3",children:"REGISTER"}),Object(h.jsxs)("form",{onSubmit:function(e){return f(e)},children:[Object(h.jsx)("label",{children:"Username"}),Object(h.jsx)("input",{type:"text",className:"form-control my-3",id:"username",placeholder:"Enter username",onChange:function(e){return i(e)}}),Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)("input",{type:"email",className:"form-control my-3",id:"email",placeholder:"Enter email",onChange:function(e){return i(e)}}),Object(h.jsx)("label",{children:"Password"}),Object(h.jsx)("input",{type:"password",className:"form-control my-3",id:"password",placeholder:"Password",onChange:function(e){return i(e)}}),Object(h.jsx)(d.b,{to:"/login",children:"Login"}),Object(h.jsx)("button",{className:"btn btn-dark mt-3 btn-block",children:"Submit"})]})]})}),p=(n(35),function(){var e=Object(r.useState)({title:"",note:""}),t=Object(j.a)(e,2),n=t[0],a=t[1],c=function(e){var t=Object(o.a)({},n);t[e.target.id]=e.target.value,a(t)},s=new Headers;s.append("Content-Type","application/json"),s.append("token",localStorage.token);var i=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/create/note",{method:"POST",headers:s,body:JSON.stringify({title:n.title,note:n.note})});case 3:window.location="/dashboard";case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"form__container",children:Object(h.jsxs)("form",{className:"form",onSubmit:function(e){return i(e)},children:[Object(h.jsx)("label",{children:"Title"}),Object(h.jsx)("input",{id:"title",onChange:function(e){return c(e)}}),Object(h.jsx)("label",{children:"Note"}),Object(h.jsx)("textarea",{id:"note",className:"form__text-area",onChange:function(e){return c(e)}}),Object(h.jsx)("button",{className:"btn btn-dark",children:"ADD NOTE"})]})})}),m=(n(36),function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],c=new Headers;c.append("Content-Type","application/json"),c.append("token",localStorage.token);var s=function(){var e=Object(l.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/create/note/".concat(t),{method:"DELETE",headers:c,body:JSON.stringify({userId:n})});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/create/note");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){o()}),[]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"note__container",children:n.map((function(e){return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"note__card",children:[Object(h.jsx)("h1",{children:e.title}),Object(h.jsx)("h3",{children:e.note}),Object(h.jsx)("h3",{children:e.user.username}),Object(h.jsx)("div",{className:"notes__delete-btn",children:Object(h.jsx)("button",{className:"btn btn-warning",onClick:function(){return s(e.note_uuid,e.user.id)},children:"DELETE"})})]})},e.note_uuid)}))})})}),x=(n(37),function(e){var t=e.setAuthentication,n=Object(r.useState)(""),a=Object(j.a)(n,2),c=a[0],s=a[1],o=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/dashboard",{method:"GET",headers:{token:localStorage.token}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n),s(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){o()}),[]),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("button",{className:"btn btn-dark",onClick:function(e){return function(e){e.preventDefault(),t(!1),b.a.success("Logged out"),localStorage.removeItem("token")}(e)},children:"LOG OUT"}),Object(h.jsx)("h1",{children:"NOTES"}),Object(h.jsxs)("h3",{className:"my-3",children:["Hello, ",c]}),Object(h.jsx)(m,{className:"my-3"}),Object(h.jsx)(p,{})]})}),v=(n(38),n(39),n(2));b.a.configure();var g=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],a=t[1],c=function(e){a(e)},s=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/verify",{method:"GET",headers:{token:localStorage.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a(!0===n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){s()}),[n]),Object(h.jsx)("div",{className:"container",children:Object(h.jsx)(d.a,{children:Object(h.jsxs)(v.d,{children:[Object(h.jsx)(v.b,{path:"/login",render:function(e){return n?Object(h.jsx)(v.a,{to:"/dashboard"}):Object(h.jsx)(f,Object(o.a)(Object(o.a)({},e),{},{setAuthentication:c}))}}),Object(h.jsx)(v.b,{path:"/register",render:function(e){return n?Object(h.jsx)(v.a,{to:"/login"}):Object(h.jsx)(O,Object(o.a)(Object(o.a)({},e),{},{setAuthentication:c}))}}),Object(h.jsx)(v.b,{path:"/dashboard",render:function(e){return n?Object(h.jsx)(x,Object(o.a)(Object(o.a)({},e),{},{setAuthentication:c})):Object(h.jsx)(v.a,{to:"/login"})}})]})})})};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(g,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.d5dd5408.chunk.js.map