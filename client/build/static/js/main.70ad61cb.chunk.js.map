{"version":3,"sources":["components/Login/index.js","components/Register/index.js","components/NoteForm/index.jsx","components/Notes/index.jsx","components/Dashboard/index.jsx","App.js","index.js"],"names":["Login","setAuthentication","useState","email","password","data","setData","handle","e","newData","target","id","value","login","a","preventDefault","fetch","method","headers","body","JSON","stringify","loggedIn","json","isLoggedIn","token","localStorage","setItem","toast","success","console","log","error","className","onSubmit","type","placeholder","onChange","to","Register","username","register","registered","isRegistered","NoteForm","title","note","noteData","setNoteData","newNoteData","header","Headers","append","createNote","window","location","Notes","notes","setNotes","deleteNote","user","userId","fetchData","jsonData","useEffect","map","item","onClick","note_uuid","Dashboard","name","setName","getName","res","removeItem","logOut","configure","App","isAuth","setIsAuth","boolean","isAuthenticated","responese","message","path","render","props","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.70ad61cb.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { toast } from \"react-toastify\";\n\nconst Login = ({ setAuthentication }) => {\n  const [data, setData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const handle = (e) => {\n    const newData = { ...data };\n    newData[e.target.id] = e.target.value;\n    setData(newData);\n  };\n\n  // Login\n  const login = async (e) => {\n    e.preventDefault();\n    const loggedIn = await fetch(\"/login\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        email: data.email,\n        password: data.password,\n      }),\n    });\n\n    const isLoggedIn = await loggedIn.json();\n\n    if (isLoggedIn.token) {\n      localStorage.setItem(\"token\", isLoggedIn.token);\n      setAuthentication(true);\n      toast.success(\"Logged in\");\n    } else {\n      setAuthentication(false);\n      console.log(\"Not Authorized\");\n      toast.error(isLoggedIn);\n    }\n  };\n\n  return (\n    <div className=\"login__contatiner\">\n      <form onSubmit={(e) => login(e)}>\n        <label>Email</label>\n        <input\n          className=\"form-control my-3\"\n          type=\"text\"\n          placeholder=\"email\"\n          onChange={(e) => handle(e)}\n          id=\"email\"\n          value={data.email}\n        />\n        <label>Password</label>\n        <input\n          className=\"form-control my-3\"\n          type=\"password\"\n          placeholder=\"password\"\n          onChange={(e) => handle(e)}\n          id=\"password\"\n          value={data.password}\n        />\n        <button className=\"btn btn-dark \">Login</button>\n      </form>\n      <div>\n        <Link to=\"/register\">\n          <h3>Register</h3>\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nimport \"./style.css\";\n\nconst Register = ({ setAuthentication }) => {\n  const [data, setData] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n  });\n\n  const handle = (e) => {\n    const newData = { ...data };\n    newData[e.target.id] = e.target.value;\n    setData(newData);\n  };\n\n  // Login\n  const register = async (e) => {\n    e.preventDefault();\n    const registered = await fetch(\"/register\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        username: data.username,\n        email: data.email,\n        password: data.password,\n      }),\n    });\n    const isRegistered = await registered.json();\n\n    if (isRegistered) {\n      localStorage.setItem(\"token\", isRegistered.token);\n      setAuthentication(true);\n      toast.success(\"Registered successfully\");\n    } else {\n      toast.error(isRegistered);\n    }\n  };\n\n  return (\n    <>\n      <h1 className=\"my-3\">REGISTER</h1>\n      <form onSubmit={(e) => register(e)}>\n        <label>Username</label>\n        <input\n          type=\"text\"\n          className=\"form-control my-3\"\n          id=\"username\"\n          placeholder=\"Enter username\"\n          onChange={(e) => handle(e)}\n        />\n        <label>Email</label>\n        <input\n          type=\"email\"\n          className=\"form-control my-3\"\n          id=\"email\"\n          placeholder=\"Enter email\"\n          onChange={(e) => handle(e)}\n        />\n        <label>Password</label>\n        <input\n          type=\"password\"\n          className=\"form-control my-3\"\n          id=\"password\"\n          placeholder=\"Password\"\n          onChange={(e) => handle(e)}\n        />\n        <Link to=\"/login\">Login</Link>\n\n        <button className=\"btn btn-dark mt-3 btn-block\">Submit</button>\n      </form>\n    </>\n  );\n};\n\nexport default Register;\n","import React, { useState } from \"react\";\nimport \"./style.css\";\n\nconst NoteForm = () => {\n  const [noteData, setNoteData] = useState({\n    title: \"\",\n    note: \"\",\n  });\n\n  const handle = (e) => {\n    const newNoteData = { ...noteData };\n    newNoteData[e.target.id] = e.target.value;\n    setNoteData(newNoteData);\n  };\n\n  const header = new Headers();\n  header.append(\"Content-Type\", \"application/json\");\n  header.append(\"token\", localStorage.token);\n\n  const createNote = async (e) => {\n    e.preventDefault();\n    // console.log(noteData.title + \"....\" + noteData.note);\n    await fetch(\"/create/note\", {\n      method: \"POST\",\n      headers: header,\n      body: JSON.stringify({\n        title: noteData.title,\n        note: noteData.note,\n      }),\n    });\n    window.location = \"/dashboard\";\n  };\n\n  return (\n    <div className=\"form__container\">\n      <form className=\"form\" onSubmit={(e) => createNote(e)}>\n        <label>Title</label>\n        <input id=\"title\" onChange={(e) => handle(e)} />\n        <label>Note</label>\n        <textarea\n          id=\"note\"\n          className=\"form__text-area\"\n          onChange={(e) => handle(e)}\n        ></textarea>\n        <button className=\"btn btn-dark\">ADD NOTE</button>\n      </form>\n    </div>\n  );\n};\n\nexport default NoteForm;\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport \"./style.css\";\n\nconst Notes = () => {\n  const [notes, setNotes] = useState([]);\n\n  const header = new Headers();\n  header.append(\"Content-Type\", \"application/json\");\n  header.append(\"token\", localStorage.token);\n\n  // DELETE SINGLE NOTE\n  const deleteNote = async (id, user) => {\n    // console.log(id + \" //// \" + userId);\n    await fetch(`/create/note/${id}`, {\n      method: \"DELETE\",\n      headers: header,\n      body: JSON.stringify({\n        userId: user,\n      }),\n    });\n  };\n  // GET ALL NOTES\n  const fetchData = async () => {\n    const data = await fetch(\"/create/note\");\n    const jsonData = await data.json();\n\n    setNotes(jsonData);\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  return (\n    <>\n      <div className=\"note__container\">\n        {notes.map((item) => {\n          return (\n            <div key={item.note_uuid}>\n              <div className=\"note__card\">\n                <h1 className=\"note__card-title\">{item.title}</h1>\n                <h3 className=\"note__card-note\">{item.note}</h3>\n                <div className=\"notes__delete-btn\">\n                  <h3>{item.user.username}</h3>\n                  <div className=\"btn-container\">\n                    <button\n                      className=\"edit-btn\"\n                      onClick={() => deleteNote(item.note_uuid, item.user.id)}\n                    >\n                      EDIT\n                    </button>\n                    <button\n                      className=\"delete-btn\"\n                      onClick={() => deleteNote(item.note_uuid, item.user.id)}\n                    >\n                      DELETE\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </>\n  );\n};\n\nexport default Notes;\n","import React, { useEffect, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport NoteForm from \"../NoteForm\";\nimport Notes from \"../Notes\";\n\nimport \"./style.css\";\n\nconst Dashboard = ({ setAuthentication }) => {\n  const [name, setName] = useState(\"\");\n\n  const logOut = (e) => {\n    e.preventDefault();\n    setAuthentication(false);\n    toast.success(\"Logged out\");\n    localStorage.removeItem(\"token\");\n  };\n\n  const getName = async () => {\n    const user = await fetch(\"/dashboard\", {\n      method: \"GET\",\n      headers: { token: localStorage.token },\n    });\n    const res = await user.json();\n    console.log(res);\n    setName(res);\n  };\n\n  useEffect(() => {\n    getName();\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <div className=\"logOut-container\">\n        <button className=\"btn btn-dark\" onClick={(e) => logOut(e)}>\n          LOG OUT\n        </button>\n      </div>\n      {/* <h1 className=\"title\">NOTES</h1> */}\n      <h3 className=\"title\">Hello, {name}</h3>\n      <Notes className=\"my-3\" />\n      <NoteForm />\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import { useState, useEffect } from \"react\";\n\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register/\";\nimport Dashboard from \"./components/Dashboard/\";\n// import \"./reset.css\";\nimport \"./app.css\";\n\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from \"react-router-dom\";\n\ntoast.configure();\n\nfunction App() {\n  const [isAuth, setIsAuth] = useState(false);\n\n  const setAuthentication = (boolean) => {\n    setIsAuth(boolean);\n  };\n\n  const isAuthenticated = async () => {\n    try {\n      const responese = await fetch(\"/verify\", {\n        method: \"GET\",\n        headers: { token: localStorage.token },\n      });\n\n      const data = await responese.json();\n\n      data === true ? setIsAuth(true) : setIsAuth(false);\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  // check if user is authenticated upon page refresh\n  useEffect(() => {\n    isAuthenticated();\n  }, [isAuth]);\n\n  return (\n    <div className=\"container\">\n      <Router>\n        <Switch>\n          <Route\n            path=\"/login\"\n            render={(props) =>\n              !isAuth ? (\n                <Login {...props} setAuthentication={setAuthentication} />\n              ) : (\n                <Redirect to=\"/dashboard\" />\n              )\n            }\n          />\n          <Route\n            path=\"/register\"\n            render={(props) =>\n              !isAuth ? (\n                <Register {...props} setAuthentication={setAuthentication} />\n              ) : (\n                <Redirect to=\"/login\" />\n              )\n            }\n          />\n          <Route\n            path=\"/dashboard\"\n            render={(props) =>\n              isAuth ? (\n                <Dashboard {...props} setAuthentication={setAuthentication} />\n              ) : (\n                <Redirect to=\"/login\" />\n              )\n            }\n          />\n          <Route\n            path=\"/\"\n            render={(props) =>\n              !isAuth ? (\n                <Login {...props} setAuthentication={setAuthentication} />\n              ) : (\n                <Redirect to=\"/login\" />\n              )\n            }\n          />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./reset.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}